{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Person.js","components/Persons.js","components/Notification.js","services/persons.js","App.js","index.js"],"names":["Filter","props","text","value","onChange","PersonForm","onSubmit","nameValue","nameOnChange","numberValue","numberOnChange","type","Person","name","number","onClick","Persons","persons","map","person","key","id","Notification","message","className","baseUrl","axios","get","then","response","data","newPerson","post","delete","put","App","useState","setPersons","newName","setNewName","newNumber","setNewNumber","search","setSearch","notificationMessage","setNotificationMessage","errorMessage","setErrorMessage","useEffect","personsService","personsData","personsToShow","filter","toLowerCase","includes","event","target","preventDefault","window","confirm","personToChange","find","changedPerson","updatedPersonData","setTimeout","catch","error","n","concat","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"2NAWeA,EATA,SAACC,GACd,OACE,6BACGA,EAAMC,KACP,2BAAOC,MAAOF,EAAME,MAAOC,SAAUH,EAAMG,aCsBlCC,EA1BI,SAACJ,GAClB,OACE,6BACE,0BAAMK,SAAUL,EAAMK,UACpB,qCAEE,2BACEH,MAAOF,EAAMM,UACbH,SAAUH,EAAMO,gBAGpB,uCAEE,2BACEL,MAAOF,EAAMQ,YACbL,SAAUH,EAAMS,kBAGpB,6BACE,4BAAQC,KAAK,UAAb,WCTKC,EAVA,SAAC,GAA+B,IAA7BC,EAA4B,EAA5BA,KAAMC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC9B,OACE,4BAAKF,EAAL,IAAYC,EACV,4BAAQC,QAASA,GAAjB,YCaSC,EAfC,SAACf,GACf,OACE,4BACGA,EAAMgB,QAAQC,KAAI,SAAAC,GAAM,OACvB,kBAAC,EAAD,CACEC,IAAKD,EAAOE,GACZR,KAAMM,EAAON,KACbC,OAAQK,EAAOL,OACfC,QAAS,kBAAMd,EAAMc,QAAQI,WCExBG,EAXM,SAAC,GAA4B,IAA1BC,EAAyB,EAAzBA,QAASC,EAAgB,EAAhBA,UAC/B,OAAgB,OAAZD,EACK,KAGP,yBAAKC,UAAWA,GACbD,I,gBCNDE,EAAU,eAiCD,EA/BA,WACb,OACEC,IACGC,IAAIF,GACJG,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SA2BlB,EAvBA,SAACC,GACd,OACEL,IACGM,KAAKP,EAASM,GACdH,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAmBlB,EAPA,SAACT,GACd,OACEK,IACGO,OADH,UACaR,EADb,YACwBJ,KAIb,EAfA,SAACA,EAAIU,GAClB,OACEL,IACGQ,IADH,UACUT,EADV,YACqBJ,GAAMU,GACxBH,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SCiIlBK,G,MAhJH,WAAO,IAAD,EAEgBC,mBAAS,IAFzB,mBAERnB,EAFQ,KAECoB,EAFD,OAGgBD,mBAAS,IAHzB,mBAGRE,EAHQ,KAGCC,EAHD,OAIoBH,mBAAS,IAJ7B,mBAIRI,EAJQ,KAIGC,EAJH,OAKcL,mBAAS,IALvB,mBAKRM,EALQ,KAKAC,EALA,OAMwCP,mBAAS,MANjD,mBAMRQ,EANQ,KAMaC,EANb,OAO0BT,mBAAS,MAPnC,mBAORU,EAPQ,KAOMC,EAPN,KAShBC,qBAAU,WACRC,IAEGrB,MAAK,SAAAsB,GAAW,OAAIb,EAAWa,QACjC,IAEH,IAuEMC,EAAgBlC,EAAQmC,QAC5B,SAAAjC,GAAM,OAAIA,EAAON,KAAKwC,cACXC,SAASZ,EAAOW,kBA0B7B,OACE,6BACE,yCACA,kBAAC,EAAD,CACE9B,QAASqB,EACTpB,UAAU,YAEZ,kBAAC,EAAD,CACED,QAASuB,EACTtB,UAAU,UAEZ,kBAAC,EAAD,CACEtB,KAAK,qBACLC,MAAOuC,EACPtC,SA9CqB,SAACmD,GAC1BZ,EAAUY,EAAMC,OAAOrD,UA+CrB,yCACA,kBAAC,EAAD,CACEG,SArHY,SAACiD,GACjBA,EAAME,iBACN,IAAM1B,EAAY,CAChBlB,KAAMyB,EACNxB,OAAQ0B,GAKV,GAHwBvB,EAAQC,KAC9B,SAAAC,GAAM,OAAIA,EAAON,QAECyC,SAASvB,EAAUlB,OACrC,GAAI6C,OAAOC,QACT,UAAG5B,EAAUlB,KAAb,wEACyC,CACzC,IAAM+C,EAAiB3C,EAAQ4C,MAC7B,SAAA1C,GAAM,OAAIA,EAAON,OAASkB,EAAUlB,QAEhCiD,EAAa,eAAQF,EAAR,CAAwB9C,OAAQ0B,IACnDS,EACUa,EAAczC,GAAIyC,GACzBlC,MAAK,SAAAmC,GACJ1B,EAAWpB,EAAQC,KAAI,SAAAC,GAAM,OAC3BA,EAAOE,KAAO0C,EAAkB1C,GAAKyC,EAAgB3C,MAEvDoB,EAAW,IACXE,EAAa,OAEdb,MAAK,WACJiB,EAAuB,WAAD,OAAYiB,EAAcjD,KAA1B,cACtBmD,YAAW,WACTnB,EAAuB,QACtB,QAEJoB,OAAM,SAAAC,GACLnB,EAAgB,GAAD,OACVe,EAAcjD,KADJ,sCAGfmD,YAAW,WACTjB,EAAgB,QACf,KACHV,EAAWpB,EAAQmC,QAAO,SAAAe,GAAC,OAAIA,EAAE9C,KAAOyC,EAAczC,gBAI5D4B,EACUlB,GACPH,MAAK,SAAAsB,GACJb,EAAWpB,EAAQmD,OAAOlB,IAC1BX,EAAW,IACXE,EAAa,OAEdb,MAAK,WACJiB,EAAuB,SAAD,OAAUd,EAAUlB,OAC1CmD,YAAW,WACTnB,EAAuB,QACtB,SAgELtC,UAAW+B,EACX9B,aA5DmB,SAAC+C,GACxBhB,EAAWgB,EAAMC,OAAOrD,QA4DpBM,YAAa+B,EACb9B,eA1DqB,SAAC6C,GAC1Bd,EAAac,EAAMC,OAAOrD,UA2DxB,uCACE,kBAAC,EAAD,CAASc,QAASkC,EAAepC,QAhDpB,SAACI,GAChBuC,OAAOC,QAAP,iBAAyBxC,EAAON,KAAhC,OACFoC,EACQ9B,EAAOE,IACdO,MAAK,kBACJS,EAAWpB,EAAQmC,QAAO,SAAAe,GAAC,OAAIA,EAAE9C,KAAOF,EAAOE,UAEhDO,MAAK,WACJiB,EAAuB,WAAD,OAAY1B,EAAON,OACzCmD,YAAW,WACTnB,EAAuB,QACtB,QAEJoB,OAAM,SAAAC,GACLnB,EAAgB,GAAD,OAAI5B,EAAON,KAAX,8BACfmD,YAAW,WACTjB,EAAgB,QACf,KACHV,EAAWpB,EAAQmC,QAAO,SAAAe,GAAC,OAAIA,EAAE9C,KAAOF,EAAOE,gBClHrDgD,IAASC,OACP,kBAAC,IAAMC,WAAP,KACE,kBAAC,EAAD,OAEFC,SAASC,eAAe,W","file":"static/js/main.c56803cf.chunk.js","sourcesContent":["import React from 'react'\n\nconst Filter = (props) => {\n  return (\n    <div>\n      {props.text}\n      <input value={props.value} onChange={props.onChange}/>\n    </div>\n  )\n}\n\nexport default Filter\n","import React from 'react'\n\nconst PersonForm = (props) => {\n  return (\n    <div>\n      <form onSubmit={props.onSubmit}>\n        <div>\n          name:\n          <input\n            value={props.nameValue}\n            onChange={props.nameOnChange}\n          />\n        </div>\n        <div>\n          number:\n          <input\n            value={props.numberValue}\n            onChange={props.numberOnChange}\n          />\n        </div>\n        <div>\n          <button type=\"submit\">add</button>\n        </div>\n      </form>\n    </div>\n  )\n}\n\nexport default PersonForm\n","import React from 'react'\n\nconst Person = ({ name, number, onClick }) => {\n  return (\n    <li>{name} {number}\n      <button onClick={onClick}>\n        remove\n      </button>\n    </li>\n  )\n}\n\nexport default Person\n","import React from 'react'\nimport Person from './Person'\n\nconst Persons = (props) => {\n  return (\n    <ul>\n      {props.persons.map(person =>\n        <Person\n          key={person.id}\n          name={person.name}\n          number={person.number}\n          onClick={() => props.onClick(person)}\n        />\n      )}\n    </ul>\n  )\n}\n\nexport default Persons\n","import React from 'react'\n\nconst Notification = ({ message, className }) => {\n  if (message === null) {\n    return null\n  }\n  return (\n    <div className={className}>\n      {message}\n    </div>\n  )\n}\n\nexport default Notification\n","import axios from 'axios'\n\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n  return (\n    axios\n      .get(baseUrl)\n      .then(response => response.data)\n  )\n}\n\nconst create = (newPerson) => {\n  return (\n    axios\n      .post(baseUrl, newPerson)\n      .then(response => response.data)\n  )\n}\n\nconst update = (id, newPerson) => {\n  return (\n    axios\n      .put(`${baseUrl}/${id}`, newPerson)\n      .then(response => response.data)\n  )\n}\n\nconst remove = (id) => {\n  return (\n    axios\n      .delete(`${baseUrl}/${id}`)\n  )\n}\n\nexport default { getAll, create, remove, update }\n","import React, { useState, useEffect } from 'react'\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport Persons from './components/Persons'\nimport Notification from './components/Notification'\nimport personsService from './services/persons'\nimport './index.css'\n\n\nconst App = () => {\n\n  const [ persons, setPersons ] = useState([])\n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ search, setSearch ] = useState('')\n  const [ notificationMessage, setNotificationMessage ] = useState(null)\n  const [ errorMessage, setErrorMessage ] = useState(null)\n\n  useEffect(() => {\n    personsService\n      .getAll()\n      .then(personsData => setPersons(personsData))\n  }, [])\n\n  const addPerson = (event) => {\n    event.preventDefault()\n    const newPerson = {\n      name: newName,\n      number: newNumber\n    }\n    const allPersonsNames = persons.map(\n      person => person.name\n    )\n    if (allPersonsNames.includes(newPerson.name)) {\n      if (window.confirm(\n        `${newPerson.name} is already in the phonebook, `\n        + `replace old number with a new one?`)) {\n        const personToChange = persons.find(\n          person => person.name === newPerson.name\n        )\n        const changedPerson = { ...personToChange, number: newNumber }\n        personsService\n          .update(changedPerson.id, changedPerson)\n          .then(updatedPersonData => {\n            setPersons(persons.map(person =>\n              person.id === updatedPersonData.id ? changedPerson : person\n            ))\n            setNewName('')\n            setNewNumber('')\n          })\n          .then(() => {\n            setNotificationMessage(`Updated ${changedPerson.name}'s number`)\n            setTimeout(() => {\n              setNotificationMessage(null)\n            }, 5000)\n          })\n          .catch(error => {\n            setErrorMessage(\n              `${changedPerson.name} has been removed from the server`\n            )\n            setTimeout(() => {\n              setErrorMessage(null)\n            }, 5000)\n            setPersons(persons.filter(n => n.id !== changedPerson.id))\n          })\n      }\n    } else {\n      personsService\n        .create(newPerson)\n        .then(personsData => {\n          setPersons(persons.concat(personsData))\n          setNewName('')\n          setNewNumber('')\n        })\n        .then(() => {\n          setNotificationMessage(`Added ${newPerson.name}`)\n          setTimeout(() => {\n            setNotificationMessage(null)\n          }, 5000)\n        })\n    }\n  }\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  const handleSearchChange = (event) => {\n    setSearch(event.target.value)\n  }\n\n  const personsToShow = persons.filter(\n    person => person.name.toLowerCase()\n              .includes(search.toLowerCase())\n  )\n\nconst removePerson = (person) => {\n  if (window.confirm(`Remove ${person.name}?`)){\n    personsService\n    .remove(person.id)\n    .then(() =>\n      setPersons(persons.filter(n => n.id !== person.id))\n    )\n    .then(() => {\n      setNotificationMessage(`Removed ${person.name}`)\n      setTimeout(() => {\n        setNotificationMessage(null)\n      }, 5000)\n    })\n    .catch(error => {\n      setErrorMessage(`${person.name} has already been removed`)\n      setTimeout(() => {\n        setErrorMessage(null)\n      }, 5000)\n      setPersons(persons.filter(n => n.id !== person.id))\n    })\n  }\n}\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification\n        message={notificationMessage}\n        className=\"success\"\n      />\n      <Notification\n        message={errorMessage}\n        className=\"error\"\n      />\n      <Filter\n        text=\"filter shown with:\"\n        value={search}\n        onChange={handleSearchChange}\n      />\n      <h3>add a new</h3>\n      <PersonForm\n        onSubmit={addPerson}\n        nameValue={newName}\n        nameOnChange={handleNameChange}\n        numberValue={newNumber}\n        numberOnChange={handleNumberChange}\n      />\n      <h3>Numbers</h3>\n        <Persons persons={personsToShow} onClick={removePerson} />\n    </div>\n  )\n}\n\nexport default App\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n)\n"],"sourceRoot":""}